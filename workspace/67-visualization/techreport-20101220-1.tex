% Clever Algorithms: Algorithm Visualization

% The Clever Algorithms Project: http://www.CleverAlgorithms.com
% (c) Copyright 2010 Jason Brownlee. Some Rights Reserved. 
% This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 2.5 Australia License.

\documentclass[a4paper, 11pt]{article}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{url}
\usepackage[pdftex,breaklinks=true,colorlinks=true,urlcolor=blue,linkcolor=blue,citecolor=blue,]{hyperref}
\usepackage{geometry}
\usepackage[ruled, linesnumbered]{../algorithm2e}
\usepackage{listings} 
\usepackage{textcomp}
\ifx\pdfoutput\@undefined\usepackage[usenames,dvips]{color}
\else\usepackage[usenames,dvipsnames]{color}
\lstset{basicstyle=\footnotesize\ttfamily,numbers=left,numberstyle=\tiny,frame=single,columns=flexible,upquote=true,showstringspaces=false,tabsize=2,captionpos=b,breaklines=true,breakatwhitespace=true,keywordstyle=\color{blue},stringstyle=\color{ForestGreen}}
\geometry{verbose,a4paper,tmargin=25mm,bmargin=25mm,lmargin=25mm,rmargin=25mm}

% Dear template user: fill these in
\newcommand{\myreporttitle}{Clever Algorithms}
\newcommand{\myreportsubtitle}{Algorithm Visualization}
\newcommand{\myreportauthor}{Jason Brownlee}
\newcommand{\myreportemail}{jasonb@CleverAlgorithms.com}
\newcommand{\myreportproject}{The Clever Algorithms Project\\\url{http://www.CleverAlgorithms.com}}
\newcommand{\myreportdate}{20101220}
\newcommand{\myreportfulldate}{December 20, 2010}
\newcommand{\myreportversion}{1}
\newcommand{\myreportlicense}{\copyright\ Copyright 2010 Jason Brownlee. Some Rights Reserved. This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 2.5 Australia License.}

% leave this alone, it's templated baby!
\title{{\myreporttitle}: {\myreportsubtitle}\footnote{\myreportlicense}}
\author{\myreportauthor\\{\myreportemail}\\\small\myreportproject}
\date{\myreportfulldate\\{\small{Technical Report: CA-TR-{\myreportdate}-\myreportversion}}}
\begin{document}
\maketitle

% write a summary sentence for each major section
\section*{Abstract} 
% project
The Clever Algorithms project aims to describe a large number of Artificial Intelligence algorithms in a complete, consistent, and centralized manner, to improve their general accessibility. 
% template
The project makes use of a standardized algorithm description template that uses well-defined topics that motivate the collection of specific and useful information about each algorithm described.
% report
This report provides a description and examples of visualization as a form of exploration and weak algorithm testing. 

\begin{description}
	\item[Keywords:] {\small\texttt{Clever, Algorithms, GNUPlot, Optimization, Visualization}}
\end{description} 

% summarise the document breakdown with cross references
\section{Introduction}
\label{sec:introduction}
The Clever Algorithms project aims to describe a large number of algorithms from the fields of Computational Intelligence, Biologically Inspired Computation, and Metaheuristics in a complete, consistent and centralized manner \cite{Brownlee2010}.
% description
The project requires all algorithms to be described using a standardized template that includes a fixed number of sections, each of which is motivated by the presentation of specific information about the technique \cite{Brownlee2010a}.

% this report
This report considers the role of visualization in the development and application of algorithms from the fields of Metaheuristics, Computational Intelligence, and Biologically Inspired Computation.

% on visualization
Visualization is can be a powerful technique for exploration the spatial relationships between data (such as an algorithm's performance over time), and investigatory tool (such as plotting an objective problem domain or search space). Visualization can also provide a weak form of algorithm testing, providing metrics on an algorithms efficiency or efficacy that may be indicative of the expected algorithm behavior.

% on visualization in this report
This report provides a discussion of the techniques and the tools that may be used to explore and evaluate the problems and algorithms described in the Clever Algorithms project. 
% examples
A discussion of tools and libraries is provided, although all examples in this report are provided using GNUPlot and include both the resulting plot and the script used to generate it. This provides a useful starting point for applying the same methods to the problems and algorithms throughout the Clever Algorithms project.

The discussion and examples are primarily focused on function optimization problems, although the principles of visualization as exploration and weak algorithm testing are generally applicable to function approximation problem instances.

%
% Problems
%
\section{Problems}
The visualization of the problem under study is an excellent place to get started. A simple spatial representation of the search space or objective function can help to motivate the selection of an appropriate technique and/or help to configure that technique. 

The visualization method is specific to the problem type and instance being considered. 
This section provides examples of visualization problems from the fields of continuous and combinatorial function optimization, two types of problems that appear frequently in the Clever Algorithms project.

% Continuous Function Optimization
\subsection{Continuous Function Optimization}
A continuous function optimization problem is typically visualized in two dimensions as a line where $x=input, y=f(input)$ or three dimensions as a surface where $x,y=input, z=f(input)$. 

Some functions may have many more dimensions, which if the function is linearly separable can be visualized in lower dimensions. For example, visualize the first two dimensions of a function with 30 inputs. Functions that are not linearly-separable may be able to make use of projection techniques such as Principle Component Analysis (PCA). For example prepare a stratified sample of the search space as vectors with associated cost function for the PCA.

Similarly, the range of each variable input to the function may be large. This may mean that some of the complexity or detail may be lost when the function is visualized as a line or surface. An indication of this detail may be achieved by creating spot-sample plots of narrow sub-sections of the function. 

Figure~\ref{plot:basin1} provides an example of the basin function used through out the algorithm description in the Clever Algorithms in one dimension and Listing~\ref{basin_1d} provides the gnuplot script used to prepare the plot.

\begin{figure}[htp]
\input{basin1}
\caption{Plot of the cities of the Basin function in 1-dimension.}
\label{plot:basin1}
\end{figure}

\begin{lstlisting}[caption=Basin Function in 1-dimension, label=basin_1d]
set xrange [-5:5]
plot x*x
\end{lstlisting}

Figure~\ref{plot:basin2} provides an example of the basin function in two-dimensions and Listing~\ref{basin_2d} provides the gnuplot script used to prepare the plot.

\begin{figure}[htp]
\input{basin2}
\caption{Plot of the cities of the Basin function in 2-dimensions.}
\label{plot:basin2}
\end{figure}

\begin{lstlisting}[caption=Basin Function in 2-dimensions, label=basin_2d]
set xrange [-5:5]
set yrange [-5:5]
splot x*x + y*y
\end{lstlisting}

Both plots clearly show the optima in the center of the domain at $x=0.0$ in one dimension and $x,y=0.0$ in two dimensions.

% Traveling Salesman Problem
\subsection{Traveling Salesman Problem}
The Traveling Salesman Problem description is comprised of a list of cities, each with a different coordinate (at least in the case of the symmetric TSP). This can easily be visualized as a map if the coordinates at latitudes and longitudes, or as a scatter plot.
A second possible visualization is to prepare a distance matrix (distance between each point and all other points) and visualize the matrix directly, with each cell shaded relative to the distances of all other cells (largest distances darker and the shorter distances lighter). The light areas in the matrix highlight short or possible nearest-neighbor cities.

Figure~\ref{plot:tsp1} provides a scatter plot of the Berlin52 Traveling Salesman problem used through out the algorithm description in the Clever Algorithms. Listing~\ref{tsp1} provides the gnuplot script used to prepare the plot, where \texttt{berlin52.tsp} is a file that contains a listing of the coordinates of all cities, one city per line separated by white space.

\begin{figure}[htp]
\input{tsp1}
\caption{Plot of the cities of the Berlin52 Traveling Salesman Problem.}
\label{plot:tsp1}
\end{figure}

\begin{lstlisting}[caption=Plot cities from the Berlin52 Traveling Salesman Problem, label=tsp1]
plot "berlin52.tsp"
\end{lstlisting}

The scatter plot shows some clustering of points as well as many points of the periphery of the plot. An optimal solution is not obvious from looking at a plot.

%
% Performance
%
\section{Algorithm Performance}
Visualizing the performance of an algorithm can give indications that it is converging (implemented correctly) and provide insight into its dynamic behavior. Many algorithms are very simple to implement but exhibit complex dynamical behavior that is difficult to model and predict beforehand. An understanding of such behavior and the effects of changing an algorithms parameters can be understood through systematic and methodological investigation. Although, by exploring parameter configurations and visualization plots of an algorithms performance can give a quick first-pass approximation and potentially highlight fruitful areas for focused investigation.

Two quite different perspectives on visualization algorithm performance are: a single algorithm run and a comparison between multiple algorithm runs.

% Single Algorithm Run
\subsection{Single Algorithm Run}
The performance of an algorithm over the course of a single run can easily be visualized as a line graph, regardless of the specific measures used. The graph can be prepared after the algorithm execution has completed, although, many algorithm frameworks provide dynamic line graphs to provide insight into an algorithms behavior during a run.

Figure~\ref{plot:ga1} provides an example line graph, showing the quality of the best candidate solution located by the Genetic Algorithm each generation for a single run. Listing~\ref{ga_performance} provides the gnuplot script used to prepare the plot, where \texttt{ga\_best.txt} is a text file that provides the fitness of the best solution each algorithm iteration on a new line.

\begin{figure}[htp]
\input{ga1}
\caption{Line graph of the best solution found by the Genetic Algorithm on the 64-bit OneMax problem.}
\label{plot:ga1}
\end{figure}

\begin{lstlisting}[caption=Plot of the best candidate solution found by the Genetic Algorithm each iteration, label=ga_performance]
plot "ga1.txt" with linespoints
\end{lstlisting}

% Multiple Algorithm Runs
\subsection{Multiple Algorithm Runs}
Multiple algorithm runs can provide insight into the tendency of an algorithm or algorithm configuration on a problem, given the stochastic processes that underlie many of these techniques. For example, a collection of the best result observed over a number of runs may be taken as a distribution indicating the capability of an algorithm for solving a given problem. This distribution may be visualized directly. 

Figure~\ref{plot:ga2} provides a scatterplot showing the number of function evaluations against the best solution found by the Genetic Algorithm over 100 runs on a 300-bit OneMax function. Listing~\ref{ga_runs} provide the gnuplot script used to prepare the plot, where \texttt{ga2.histogram.txt} is a text file that contains discrete fitness values and the number of times it was discovered by the algorithm over 100 runs/

\begin{figure}[htp]
\input{ga2}
\caption{Histogram of the best solution found by a Genetic Algorithm on a 300-bit One Max problem over 100 runs.}
\label{plot:ga2}
\end{figure}

\begin{lstlisting}[caption=Scatterplot of objective function evaluations against quality of best solution found over 100 runs of a Genetic Algorithm, label=ga_runs]
plot "ga2.histogram.txt" w boxes
\end{lstlisting}

% Multiple Distributions of Algorithm Runs
\subsection{Multiple Distributions of Algorithm Runs}
Algorithms can be compared against each other based on their distributions of algorithm performance over a number of runs. This comparison usually takes the form of statistical tests that can make meaningful statements about the differences between distributions. A visualization of the relative difference between the distributions can aid in an interpretation of such statistical measures. 

A compact way for representing a distribution is to use a box and whisker plot that partitions the data into quartiles, showing the central tendency of the distribution, the middle mass of the data (the second and third quartiles), the limits of the distribution and any outliers. Algorithm run distributions may be summarized as a box and whisker plots and plotted together to show relative spatial relationships.

Figure~\ref{} provides box and whisker plots for algorithm distributions over 100 runs for the Differential Evolution, Evolution Strategies, and Evolution Programming algorithms on the same 3-dimensional basin problem. The measure collected from each run was the quality of the best candidate solution found. This comparison is provided for demonstration purposes and can not be taken as an indication of the relative capabilities of the selected algorithms as no algorithm configuring tuning was performed. Listing~\ref{ea_comparison} provide the gnuplot script used to prepare the plot.

% TODO algorithm run plot

\begin{lstlisting}[caption=Boxplots of the best solutions found by DE ES and EP algorithms on a 3-dimensional basin problem over 100 runs, label=ea_comparison]
plot "ga_runs.txt"
\end{lstlisting}

%
% Candidate Solutions
%
\section{Candidate Solutions}
Visualizing candidate solutions can provide an insight into the complexity of the problem and the behavior of an algorithm. Visualizing the results of a combinatorial optimization can provide insight into the areas of the problem with which a selected technique is handling well and handling poorly. 


% Continuous Function Optimization
\subsection{Continuous Function Optimization}
todo
on the plot


% Traveling Salesman Problem
\subsection{Traveling Salesman Problem}
todo

nearest neighbor solution...


optimal solution

\begin{figure}[htp]
\input{tsp2}
\caption{Plot of the cities of the optimal tour for the Berlin52 Traveling Salesman Problem.}
\label{plot:tsp2}
\end{figure}

\begin{lstlisting}[caption=Plot cities and draw optimal tour from the Berlin52 Traveling Salesman Problem, label=tsp2]
plot "berlin52.optimal" with linespoints
\end{lstlisting}


%
% Tools
%
\section{Visualization Methods}
asdasd

\subsection{Tools}
first step should be to use a specialized tool if available

\subsection{GNU Plot}
focused on plotting

great for performance graphics and surfaces

\subsection{R Project}
stats methods and visualization


\subsection{Libraries}
write code if you must, but use a lib

may, for example, some used in java, ruby etc

open source physics, jfreegraph, jung, etc


\subsection{DIY}
last resort, better to use a lib


%
% Conclusions
%
\section{Conclusions}
\label{sec:conclusions}
This report provided a description and examples of visualization as a form of exploration and weak algorithm testing. 

% bibliography
\bibliographystyle{plain}
\bibliography{../bibtex}

\end{document}
% EOF
